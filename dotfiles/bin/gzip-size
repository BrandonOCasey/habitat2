#!/usr/bin/env bash

gzip_size() {
  gzip -9 -c "$1" | wc -c | sed 's~ ~~g'
}

# if this is not an interactive shell read from pipe
if ! tty >/dev/null; then
  while read -r line; do
    gzip_size "$line"
  done;
fi

while [ "$#" -gt 0 ]; do
  gzip_size "$1"; shift
done

